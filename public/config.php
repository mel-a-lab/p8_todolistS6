<?php

/*
 * ************** CAUTION **************
 *
 * DO NOT EDIT THIS FILE as it will be overridden by Composer as part of
 * the installation/update process. The original file resides in the
 * SensioDistributionBundle.
 *
 * ************** CAUTION **************
 */

require_once dirname(__FILE__).'/../var/SymfonyRequirements.php';

use Symfony\Component\HttpFoundation\Request;

$request = Request::createFromGlobals();

// Vérifie si nous sommes dans le contexte CLI ou si HTTP_HOST est défini
if (!$request->server->has('HTTP_HOST') && !$request->server->has('REQUEST_URI')) {
    exit('This script cannot be run from the CLI. Run it from a browser.');
}

$allowedRemoteAddresses = array(
    '127.0.0.1',
    '::1',
);

if (!in_array($request->server->get('REMOTE_ADDR'), $allowedRemoteAddresses)) {
    header('HTTP/1.0 403 Forbidden');
    exit('This script is only accessible from localhost.');
}

// Check if the SymfonyRequirements class exists before instantiating it
if (class_exists('SymfonyRequirements')) {
    $symfonyRequirements = new SymfonyRequirements();

    $majorProblems = $symfonyRequirements->getFailedRequirements();
    $minorProblems = $symfonyRequirements->getFailedRecommendations();
    $hasMajorProblems = (bool) count($majorProblems);
    $hasMinorProblems = (bool) count($minorProblems);
} else {
    // Handle the case where SymfonyRequirements class is not available
    exit('SymfonyRequirements class is not available. Please check your installation.');
}

?>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="robots" content="noindex,nofollow" />
    <title>Symfony Configuration Checker</title>
    <!-- ... Vos autres balises meta et styles ... -->
</head>
<body>
<div id="content">
    <!-- ... Le contenu de votre page ... -->
</div>
</body>
</html>
